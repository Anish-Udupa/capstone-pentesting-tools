from .util import run_command
from ./genai/genai import GenAi
class gospider:
    def __init__(self, ip):
        self.ip = ip
        self.urls=[]
        self.genai=GenAi()
    def extract_features(self,data):
        query="Return a list of urls"
        return_format="['url1,url2,'...]"
        soln=self.genai.get(query,return_format,data)
        if len(soln)>0:
            self.urls=soln
            return True
        else:
            return False
    def run(self):
        cmd = f"gospider -d 0 -s http://{self.ip}"
        result = run_command(cmd)
        print(result)

        return result
