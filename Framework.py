def run_command(cmd):
        try:
            # result = subprocess.run(cmd.split(), check=True, shell=True, capture_output=True, text=True)
            cmd_output = subprocess.run(cmd.split(), check=True, capture_output=True, text=True)
            result = {
                status: 'success',
                output: cmd_output
            }
            return result
        except Exception as e:
            print(f"Failed to run command {cmd}.\nException: {e}")
            result = {
                 status: 'fail',
                 output: f"Failed to run command {cmd}.\nException: {e}"
            }
            return result

ip = ''
goal_state_reached = False
tool_output_stack = []
tool_stack = ['nmap']

while goal_state_reached is False or len(tool_stack) > 0:
     