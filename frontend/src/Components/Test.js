// Test.js
import React, { useState } from 'react';
import { Link } from 'react-router-dom';
import axios from 'axios';
function Test() {
  const [inputText, setInputText] = useState('');

  const handleInputChange = (e) => {
    setInputText(e.target.value);
  };

  const handleSubmit = async () => {
    try {

      const data = (await axios.post(`${process.env.REACT_APP_BACKEND_URL}/api/submit`, { ip: inputText})).data;
      console.log(data);
    }
    catch(err) {
      console.log(err);
    }
  };

  return (
    <div className="contact-page-wrapper">
      <h1 className="primary-heading">Enter the IP Address</h1>
       <div className="box-container">
        <input
          className="custom-input"
          type="text"
          placeholder="Example: 0.0.0.0"
          value={inputText}
          onChange={handleInputChange}
        />
        <br />
        <Link to='/loading'>
        <button onClick={handleSubmit} className="custom-input" style={{'width':'100px','color':'black','marginLeft':'600px','marginTop':'70px'}}>SUBMIT</button>
        </Link>
        </div>
    </div>
  );
}

export default Test;
